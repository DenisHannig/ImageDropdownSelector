var ImageSelector={onSelectListeners:{},init:function(e){var t=$(e.find("image-option")),o="";$.each(t,function(e,t){var i=t.id||"",n=t.getAttribute("title"),a=t.getAttribute("image");console.log(a);var s=ImageSelector.createOption(i,n,a);o+=s}),e.html(ImageSelector.template(o)),$.each(e,function(e,t){t.getAttribute("id")||t.setAttribute("id","image-selector-"+e),ImageSelector.getItemCount(t)>0&&(t.systemCall=!0,ImageSelector.setSelectedIndex(t,0))}),ImageSelector.setupEventListeners(e)},setSelectedIndex:function(e,t){var o=$(e).find(".image-selector-options-list").find(".image-selector-option");if(!(o&&o.length>0&&t<=o.length))throw new Error("Options index out of range for index ["+t+"]. (Available items [${options.length}]");o[t].systemCall=!0===e.systemCall,ImageSelector.setSelectedOption(o[t]),e.systemCall=void 0},setSelectedOptionById:function(e,t){e.systemCall=void 0!==e.systemCall;var o=$(e).find(".image-selector-options-list").find('.image-selector-option[id="'+t+'"]');o&&(o.systemCall=e.systemCall,ImageSelector.setSelectedOption(o))},setSelectedOption:function(e){if(!(e.length<=0)){e.systemCall=void 0!==e.systemCall;var t=$($(e).closest("image-selector")),o=t.find(".image-selector-selection"),i=document.createElement("span");if(i.classList.add("image-selector-selection"),i.innerHTML=$(e)[0].innerHTML,i.id=$(e)[0].getAttribute("id"),$(i).find(".image-selector-option-text").text(i.id.toUpperCase()),o[0].outerHTML=i.outerHTML,this.onSelectListeners[t]&&!0!==e.systemCall){var n=ImageSelector.getIndexOf(e);this.onSelectListeners[t](n,e),e.systemCall=void 0}}},setOnSelectListener:function(e,t,o){$.isFunction(t)&&(ImageSelector.onSelectListeners[e]?!0===o&&(ImageSelector.onSelectListeners[e]=t):ImageSelector.onSelectListeners[e]=t)},getItemCount:function(e){return $(e).find(".image-selector-options-list").find(".image-selector-option").length+0},getCurrentSelected:function(e){var t=$(e).find(".image-selector-selection").attr("id");return $(e).find(".image-selector-options-list").find('.image-selector-option[id="'+t+'"]')},getCurrentSelectedIndex:function(e){var t=ImageSelector.getCurrentSelected(e);return ImageSelector.getIndexOf(t)},getIndexOf:function(e){e=$(e);var t=$($(e).closest("image-selector"));if(e&&e.length>0&&t&&t.length>0)return $(e).index()},setupEventListeners:function(e){$(e).offOn("click",function(t){t.stopPropagation(),this.classList.contains("expanded")?this.classList.remove("expanded"):this.classList.add("expanded");var o=$($(e).find(".image-selector-options-list"));if(o&&o.length>0){var i=ImageSelectorHelperIsOutOfViewport(o[0]);o.css("top",""),o.css("right",""),o.css("bottom",""),o.css("left",""),!0===i.top&&o.css("top",0),!0===i.right&&o.css("right",0),!0===i.bottom&&o.css("bottom",0),!0===i.left&&o.css("left",0)}}),$(e.find(".image-selector-options-list")).offOn("mouseleave",function(e){e.stopPropagation(),ImageSelector.collapseAllImageSelectors()}),$(e.find(".image-selector-option")).offOn("mouseup",function(e){e.stopPropagation(),ImageSelector.setSelectedOption($(this)),ImageSelector.collapseAllImageSelectors()})},collapseAllImageSelectors:function(){$("image-selector").toggleClass("expanded",!1)},template:function(e){return'<style>   image-selector {\t   margin: auto;\t   font-size: 12px;   }   .image-selector {\t   min-width: 40px;\t   height: auto;\t   min-height: 18px;\t   background-color: #f0f0f0;\t   border-radius: 4px;\t   display: flex;\t   flex-direction: row;\t   border: 1px solid #c5c5c5;   }   .image-selector:hover {\t   cursor: pointer;   }   .image-selector.disabled:hover {\t   cursor: default;   }   .image-selector-selection-image {\t   width: 18px;\t   height: 18px;\t   flex: none;   }   .image-selector-selection-text {\t   text-overflow: ellipsis;\t   overflow: hidden;\t   margin: auto;   }   .image-selector-selection {\t   width: auto;\t   min-width: 40px;\t   height: auto;\t   display: flex;\t   flex: auto;\t   margin: auto;\t   padding: 4px 10px;\t   line-height: normal;\t   white-space: nowrap;\t   overflow: hidden;\t   text-overflow: ellipsis;\t   user-select: none;   }   .image-selector-arrow {\t   width: 18px;\t   height: 18px;\t   margin: auto;\t   flex: none;\t   border-left: 1px solid #c5c5c5;\t   background-size: 50% auto;\t   background-position: center;\t   background-repeat: no-repeat;   }\t   image-selector:not(.expanded):hover .image-selector-arrow {\t   background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iNTAiIGZpbGw9IiM4MDgwODAiPjxwb2x5Z29uIHBvaW50cz0iMCwwIDEwMCwwIDUwLDUwIj48L3BvbHlnb24+PC9zdmc+");   }   image-selector:not(.expanded) .image-selector-arrow {\t   background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iNTAiIGZpbGw9IiUyMzgwODA4MCI+PHBvbHlnb24gcG9pbnRzPSIwLDAgMTAwLDAgNTAsNTAiPjwvcG9seWdvbj48L3N2Zz4=");   }\t   image-selector.expanded:hover .image-selector-arrow {\t   background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMDAnIGhlaWdodD0nNTAnIGZpbGw9JyM4MDgwODAnPjxwb2x5Z29uIHBvaW50cz0nNTAsMCAxMDAsNTAgMCw1MCcvPjwvc3ZnPg==");   }   image-selector.expanded .image-selector-arrow {\t   background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMDAnIGhlaWdodD0nNTAnIGZpbGw9JyM1MDUwNTAnPjxwb2x5Z29uIHBvaW50cz0nNTAsMCAxMDAsNTAgMCw1MCcvPjwvc3ZnPg==");   }   /* LIST */   .image-selector-options-list {\t   position: fixed;\t   z-index: 599;\t   height: auto;\t   max-height: 300px;\t   margin-top: -1px;\t   background-color: #f8f8f8;\t   border: 1px solid #c5c5c5;\t   border-radius: 4px;\t   display: none;\t   overflow: auto;   }   image-selector.expanded .image-selector-options-list {\t   display: block;   }   .image-selector-option {\t   width: auto;\t   min-width: 40px;\t   height: auto;\t   display: flex;\t   flex: auto;\t   margin: auto;\t   padding: 4px 10px;\t   line-height: normal;\t   white-space: nowrap;\t   user-select: none;\t   cursor: pointer;   }   .image-selector-option:hover {\t   background-color: #f0f0f0;   }   .image-selector-option-image {\t   width: 18px default;\t   height: 18px;\t   flex: none;\t   margin-top: auto;\t   margin-bottom: auto;   }   .image-selector-option-text {\t   margin: auto auto auto 0;   }   .image-selector-css-hidden {       display: none !important;   }   .image-selector-css-mr-10 {       margin-right: 10px;   }</style><div class="image-selector">   <span class="image-selector-selection">\t   <div class="image-selector-option-image" />\t   <span class="image-selector-selection-text"></span>   </span>   <div class="image-selector-arrow"></div></div><div class="image-selector-options-list">\t '+e+"</div>"},createOption:function(e,t,o){return'<span class="image-selector-option" id="'+e+'" title="'+t+'" image="'+o+'">    <img class="image-selector-option-image '+(o?"":"image-selector-css-hidden")+(t?"image-selector-css-mr-10":"")+'" src="'+o+'" alt="'+e.toUpperCase()+'"/>    <span class="image-selector-option-text '+(t?"":"image-selector-css-hidden")+'">'+t+"</span></span>"},createOptionBeforeInit:function(e,t,o){return'<image-option id="'+e+(t?'" title="'+t:"")+(o?'" image="'+o:"")+'"></image-option>'},addOptionItems:function(e,t){$(e).html(t),ImageSelector.init(e)}},ImageSelectorHelperIsOutOfViewport=function(e){var t=e.getBoundingClientRect(),o={};return o.top=t.top<0,o.left=t.left<0,o.bottom=t.bottom>(window.innerHeight||document.documentElement.clientHeight),o.right=t.right>(window.innerWidth||document.documentElement.clientWidth),o.any=o.top||o.left||o.bottom||o.right,o.all=o.top&&o.left&&o.bottom&&o.right,o};!function(){var e=$(document.getElementsByTagName("image-selector"));ImageSelector.init(e)}();
